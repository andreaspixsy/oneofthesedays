---
layout: post
---
<tr id='section-1'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-1">&#182;</a>
    </div>
    <p>Without the array, programming would be terribly difficult. To store 10 items, you would need 10 different variable names, and any more than this makes things hopelessly inefficient. The array lets us store a number of items under a single variable name. We can reference a specific item simply by saying which variable it&rsquo;s stored in, and in what position it lies. Like in C and PHP, Ruby starts indexing at 0. myArray[0] will give you the first element. In C, if you tried to access myArray[-1] you would meet a nasty runtime error. In Ruby, however, a negative index is treated as an index relative to the end of the array. Thus -1 becomes the last element, -2 the second to last, and so on.</p>
  </td>
  <td class=code>
    <div class='highlight'><pre></pre></div>
  </td>
</tr>
<tr id='section-2'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-2">&#182;</a>
    </div>
    <p><a href='http://ruby-doc.org/core/classes/Array.html'>Ruby&rsquo;s Array class</a> has a lot of methods, so let&rsquo;s get right in to it and explore some of what it has to offer.</p>
  </td>
  <td class=code>
    <div class='highlight'><pre></pre></div>
  </td>
</tr>
<tr id='section-Creation'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-Creation">&#182;</a>
    </div>
    <h3>Creation</h3>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="nb">puts</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span></pre></div>
  </td>
</tr>
<tr id='section-4'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-4">&#182;</a>
    </div>
    <p>=>1
=>2
=>3</p>
  </td>
  <td class=code>
    <div class='highlight'><pre></pre></div>
  </td>
</tr>
<tr id='section-5'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-5">&#182;</a>
    </div>
    <p>That&rsquo;s all it takes! The square brackets let Ruby know that we want to create a new array, with the elements set to be the contents of the brackets. This syntax is an alias of the actual method, [].</p>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="nb">puts</span> <span class="nb">Array</span><span class="o">.</span><span class="n">[</span><span class="o">]</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span></pre></div>
  </td>
</tr>
<tr id='section-6'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-6">&#182;</a>
    </div>
    <p>=>1
=>2
=>3</p>
  </td>
  <td class=code>
    <div class='highlight'><pre></pre></div>
  </td>
</tr>
<tr id='section-7'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-7">&#182;</a>
    </div>
    <p>If we want to create an array, but we don&rsquo;t have anything to store in it yet, we can use the &lsquo;new&rsquo; method.</p>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="nb">Array</span><span class="o">.</span><span class="n">new</span></pre></div>
  </td>
</tr>
<tr id='section-8'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-8">&#182;</a>
    </div>
    <p>If we know that we want to store n items, we can create the array with a capacity.</p>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="nb">Array</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">size</span></pre></div>
  </td>
</tr>
<tr id='section-9'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-9">&#182;</a>
    </div>
    <p>=>10</p>
  </td>
  <td class=code>
    <div class='highlight'><pre></pre></div>
  </td>
</tr>
<tr id='section-10'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-10">&#182;</a>
    </div>
    <p>Size is a method of array which returns the number of elements. We created an empty array with space for 10 elements, and that is the size of the array.</p>
  </td>
  <td class=code>
    <div class='highlight'><pre></pre></div>
  </td>
</tr>
<tr id='section-Generation'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-Generation">&#182;</a>
    </div>
    <h3>Generation</h3>


<p>The Array class gives us a powerful way of generating elements using a block.</p>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="n">even</span> <span class="o">=</span> <span class="nb">Array</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span> <span class="n">i</span> <span class="o">+</span> <span class="n">i</span> <span class="p">}</span>
<span class="nb">puts</span> <span class="n">even</span> <span class="c1"># 0 2 4 6 8</span>
    </pre></div>
  </td>
</tr>
<tr id='section-12'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-12">&#182;</a>
    </div>
    <p>We have created an array called &lsquo;even&rsquo; that contains the first 5 even numbers. Firstly, we stated that we wanted a new array of size 5</p>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="nb">Array</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
 </pre></div>
  </td>
</tr>
<tr id='section-13'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-13">&#182;</a>
    </div>
    <p>Secondly, we put a block at the end of it.</p>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="p">{</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span> <span class="n">i</span> <span class="o">+</span> <span class="n">i</span> <span class="p">}</span></pre></div>
  </td>
</tr>
<tr id='section-14'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-14">&#182;</a>
    </div>
    <p>This could also be written as</p>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="k">do</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span> <span class="n">i</span> <span class="o">+</span> <span class="n">i</span> <span class="k">end</span></pre></div>
  </td>
</tr>
<tr id='section-15'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-15">&#182;</a>
    </div>
    <p>What is this voodoo magic, do I hear you ask? Well, the block is taking a number, i, and returning the sum of i with itself. The value of i that is passed is the index into each element created. Thus for an array of size 5, we will have the indices 0, 1, 2, 3, and 4. Working this out the long way gives us</p>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="n">even</span> <span class="o">=</span> <span class="nb">Array</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">even</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">+</span> <span class="mi">0</span>
<span class="n">even</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">even</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span>
<span class="n">even</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">3</span>
<span class="n">even</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">+</span> <span class="mi">4</span></pre></div>
  </td>
</tr>
<tr id='section-16'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-16">&#182;</a>
    </div>
    <p>Using a block lets us define each element programatically, based on the the index of that element. Nifty!</p>
  </td>
  <td class=code>
    <div class='highlight'><pre></pre></div>
  </td>
</tr>
<tr id='section-Interesting_Methods'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-Interesting_Methods">&#182;</a>
    </div>
    <h3>Interesting Methods</h3>


<p>There are a lot of methods in the API, and most of them have some sample code to go with them. Therefore, I will look at some of the more interesting ones.</p>
  </td>
  <td class=code>
    <div class='highlight'><pre></pre></div>
  </td>
</tr>
<tr id='section-*'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-*">&#182;</a>
    </div>
    <h4>*</h4>


<p>While this method can be used to duplicate an array n times, like so</p>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="o">[</span><span class="s1">&#39;echo&#39;</span><span class="o">]</span> <span class="o">*</span> <span class="mi">3</span> <span class="c1"># echo echo echo</span></pre></div>
  </td>
</tr>
<tr id='section-19'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-19">&#182;</a>
    </div>
    <p>the more interesting usage is as a join operator. PHP offers the join() method which, given an array and a character will return a string consisting of each array element, followed by the given character. Ruby also has a join method, but the * operator is a great shortcut.</p>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="o">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;s&#39;</span><span class="p">,</span><span class="s1">&#39;v&#39;</span><span class="o">]</span> <span class="o">*</span> <span class="s1">&#39;,&#39;</span><span class="c1"># c,s,v</span></pre></div>
  </td>
</tr>
<tr id='section-abbrev'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-abbrev">&#182;</a>
    </div>
    <h4>abbrev</h4>


<p>The API states that this method &lsquo;calculates the set of unambiguous abbreviations for the strings in self&rsquo;. The example given, while sensible, doesn&rsquo;t relate to a particularly useful application.</p>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="nb">require</span> <span class="s1">&#39;abbrev&#39;</span>
<span class="sx">%w{ car cone }</span><span class="o">.</span><span class="n">abbrev</span>   
<span class="p">{</span> <span class="s2">&quot;ca&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;car&quot;</span><span class="p">,</span> <span class="s2">&quot;car&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;car&quot;</span><span class="p">,</span> <span class="s2">&quot;co&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;cone&quot;</span><span class="p">,</span> <span class="s2">&quot;con&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;cone&quot;</span><span class="p">,</span> <span class="s2">&quot;cone&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;cone&quot;</span> <span class="p">}</span></pre></div>
  </td>
</tr>
<tr id='section-21'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-21">&#182;</a>
    </div>
    <p>Note that this method isn&rsquo;t part of the core API, and so it needs to be explicitly included</p>
  </td>
  <td class=code>
    <div class='highlight'><pre></pre></div>
  </td>
</tr>
<tr id='section-22'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-22">&#182;</a>
    </div>
    <p>So why is this useful? The main application I can see for this is auto-completion. Given a set of names or commands, what are the fewest characters I can type to identify one in particular? Consider a lazy person using twitter. If I want to send a message someone, I don&rsquo;t really want to type out their whole user id. Given an array of people I follow, abbrev can generate a list of possible abbreviations such that each abbreviation will only reference one person.</p>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="n">tweeps</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;jeff&#39;</span><span class="p">,</span> <span class="s1">&#39;steve&#39;</span><span class="p">,</span> <span class="s1">&#39;frank&#39;</span><span class="p">,</span> <span class="s1">&#39;james&#39;</span><span class="p">,</span> <span class="s1">&#39;stephen&#39;</span><span class="o">]</span>
<span class="nb">p</span> <span class="n">tweeps</span><span class="o">.</span><span class="n">abbrev</span>
<span class="p">{</span><span class="s2">&quot;frank&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;frank&quot;</span><span class="p">,</span>
 <span class="s2">&quot;stephe&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;stephen&quot;</span><span class="p">,</span>
 <span class="s2">&quot;jam&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;james&quot;</span><span class="p">,</span>
 <span class="s2">&quot;jef&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;jeff&quot;</span><span class="p">,</span>
 <span class="s2">&quot;steve&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;steve&quot;</span><span class="p">,</span>
 <span class="s2">&quot;step&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;stephen&quot;</span><span class="p">,</span>
 <span class="s2">&quot;ja&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;james&quot;</span><span class="p">,</span>
 <span class="s2">&quot;fr&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;frank&quot;</span><span class="p">,</span>
 <span class="s2">&quot;je&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;jeff&quot;</span><span class="p">,</span>
 <span class="s2">&quot;jame&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;james&quot;</span><span class="p">,</span>
 <span class="s2">&quot;f&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;frank&quot;</span><span class="p">,</span>
 <span class="s2">&quot;stephen&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;stephen&quot;</span><span class="p">,</span>
 <span class="s2">&quot;jeff&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;jeff&quot;</span><span class="p">,</span>
 <span class="s2">&quot;fran&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;frank&quot;</span><span class="p">,</span>
 <span class="s2">&quot;stev&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;steve&quot;</span><span class="p">,</span>
 <span class="s2">&quot;james&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;james&quot;</span><span class="p">,</span>
 <span class="s2">&quot;steph&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;stephen&quot;</span><span class="p">,</span>
 <span class="s2">&quot;fra&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;frank&quot;</span><span class="p">}</span></pre></div>
  </td>
</tr>
<tr id='section-23'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-23">&#182;</a>
    </div>
    <p>Steve and Stephen have the same first 3 characters, and so you can see that the shortest abbreviation for each is stev and step. You may have noticed that I used &lsquo;p&rsquo; and not &lsquo;puts&rsquo;. This is because abbrev doesn&rsquo;t return an array, but a hash of &lsquo;abbreviation&rsquo; => &lsquo;originalString&rsquo; pairs.</p>
  </td>
  <td class=code>
    <div class='highlight'><pre></pre></div>
  </td>
</tr>
<tr id='section-collect'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-collect">&#182;</a>
    </div>
    <h4>collect</h4>


<p>This method is similar to the element generation described above. Given an array, place a block at the end which takes each element of the array. In this case, instead of the index being passed in, the actual element is passed in. The resulting value can either be stored back in the array, or placed into a new array.</p>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="n">numbers</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="o">]</span>
<span class="nb">p</span> <span class="n">numbers</span><span class="o">.</span><span class="n">collect</span> <span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span> <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">);</span> <span class="n">x</span><span class="p">;</span> <span class="k">end</span> <span class="p">}</span><span class="o">.</span><span class="n">compact</span><span class="c1"># [2, 4, 6, 8]</span></pre></div>
  </td>
</tr>
<tr id='section-25'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-25">&#182;</a>
    </div>
    <p>By checking if each number is divisible by 2, we can create a new array containing only the even numbers. &lsquo;compact&rsquo; is used to remove elements that are &lsquo;nil&rsquo;. As collect will create a new array of the same size, when the number is odd no value will be returned and so that element will be empty. To overwrite the array instead of creating a new one, use the exclamation mark.</p>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="nb">Array</span><span class="o">.</span><span class="n">collect!</span></pre></div>
  </td>
</tr>
<tr id='section-uniq'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-uniq">&#182;</a>
    </div>
    <h4>uniq</h4>


<p>By using uniq you can quickly make your array behave like a set.</p>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="nb">p</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="o">].</span><span class="n">uniq</span><span class="c1"># [1, 2, 3, 4]</span></pre></div>
  </td>
</tr>
<tr id='section-Enumerable'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-Enumerable">&#182;</a>
    </div>
    <h2>Enumerable</h2>


<p>Now that we have a basic understanding of Array, let&rsquo;s take a look at it&rsquo;s cousin class: Enumerable. Enumerable is all about iterating. The collect method that we have just seen is an example of an Enumerable function. Collect lets you perform some operation on each element of an array. Sorting is another example of what you can do with Enumerable. The key difference between Array and Enumerable however, is that while you may create an array, you don&rsquo;t create an enumerable. Rather, by defining certain methods, a class can behave like an enumerable object. Before we look at how to do that, let&rsquo;s see some of the methods available.</p>
  </td>
  <td class=code>
    <div class='highlight'><pre></pre></div>
  </td>
</tr>
<tr id='section-inject'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-inject">&#182;</a>
    </div>
    <h4>inject</h4>


<p>The inject method is similar to collect, but an extra value is sent to the block at each iteration containing the result of the previous iteration. This lets us compute the factorial of a number in a neat way:</p>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="nb">p</span> <span class="p">(</span><span class="mi">1</span><span class="o">.</span><span class="n">.</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">inject</span> <span class="p">{</span> <span class="o">|</span><span class="n">sum</span><span class="p">,</span> <span class="n">n</span><span class="o">|</span> <span class="n">sum</span> <span class="o">+</span> <span class="n">n</span> <span class="p">}</span><span class="c1"># 10</span>
<span class="mi">4</span><span class="o">!</span> <span class="o">=</span> <span class="mi">10</span><span class="o">.</span></pre></div>
  </td>
</tr>
<tr id='section-sort'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-sort">&#182;</a>
    </div>
    <h4>sort</h4>


<p>When we have an array of elements, we quite often want to sort them. It they are names, we&rsquo;d like to sort them alphabetically; if they are numbers, well, numerically would make sense. The sort method gives us great flexibility when it comes to sorting by letting us define the sorting comparator as a block.</p>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="nb">p</span> <span class="sx">%w{a c b}</span><span class="o">.</span><span class="n">sort</span> <span class="p">{</span> <span class="o">|</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">|</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="o">=&gt;</span> <span class="n">b</span> <span class="p">}</span><span class="c1"># [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span></pre></div>
  </td>
</tr>
<tr id='section-30'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-30">&#182;</a>
    </div>
    <p>%w{a c b} is a short way of saying [&lsquo;a&rsquo;, &lsquo;c&rsquo;, &lsquo;b&rsquo;]. If each element of your array is a single word, then the shorthand will be quicker as you don&rsquo;t have to worry about typing in quotes. So, given our array, [&lsquo;a&rsquo;, &lsquo;c&rsquo;, &lsquo;b&rsquo;] and our block, { |a,b| a &lt; => b }, we see that they have become alphabetically sorted. The block operates on a pair of values, and compares them with the &lt; => operator. &lt; => returns -1 if the left value is lesser, 0 if they are equal, and +1 if the left value is greater. If we want to sort the array in reverse order, we simply swap the order of the values in our block.</p>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="nb">p</span> <span class="sx">%w{a c b}</span><span class="o">.</span><span class="n">sort</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="o">|</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="o">=&gt;</span> <span class="n">b</span> <span class="p">}</span><span class="c1"># [&quot;c&quot;, &quot;b&quot;, &quot;a&quot;]</span></pre></div>
  </td>
</tr>
<tr id='section-Custom_Enumerable_Classes'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-Custom_Enumerable_Classes">&#182;</a>
    </div>
    <h3>Custom Enumerable Classes</h3>


<p>If you have your own class, you may want to do things with it as if it were an array. For example, let&rsquo;s say we have a BookShelf class that maintains records of various books we own. One thing we may like to do is print out our books sorted by their author. If we include Enumerable into our BookShelf class, and define the method &lsquo;each&rsquo;, we will be able to write code that might look like the following.</p>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="nb">p</span> <span class="n">bookShelf</span><span class="o">.</span><span class="n">sort</span> <span class="p">{</span> <span class="o">|</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">|</span> <span class="n">a</span><span class="o">[</span><span class="s1">&#39;author&#39;</span><span class="o">]</span> <span class="o">&lt;</span> <span class="o">=&gt;</span> <span class="n">b</span><span class="o">[</span><span class="s1">&#39;author&#39;</span><span class="o">]</span> <span class="p">}</span>
    <span class="o">[</span><span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;Great Expectations&quot;</span><span class="p">,</span> <span class="s2">&quot;author&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;Dickens, C.&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;Linchpin&quot;</span><span class="p">,</span> <span class="s2">&quot;author&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;Godin, S.&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;Frankenstien&quot;</span><span class="p">,</span> <span class="s2">&quot;author&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;Shelly, M.&quot;</span><span class="p">}</span><span class="o">]</span></pre></div>
  </td>
</tr>
<tr id='section-32'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-32">&#182;</a>
    </div>
    <p>As you can see, we have an array of hashes, containing an author and a title. They are ordered by the author&rsquo;s name. Here&rsquo;s the BookShelf class that lets us do this.</p>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="k">class</span> <span class="nc">BookShelf</span>
    <span class="kp">include</span> <span class="no">Enumerable</span>

    <span class="k">def</span> <span class="nf">initialize</span>
        <span class="vi">@titles</span> <span class="o">=</span> <span class="o">[]</span>
        <span class="vi">@authors</span> <span class="o">=</span> <span class="o">[]</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">add</span> <span class="n">bookTitle</span><span class="p">,</span> <span class="n">bookAuthor</span>
        <span class="vi">@titles</span><span class="o">.</span><span class="n">push</span> <span class="n">bookTitle</span>
        <span class="vi">@authors</span><span class="o">.</span><span class="n">push</span> <span class="n">bookAuthor</span>
    <span class="k">end</span>

   <span class="k">def</span> <span class="nf">each</span>
       <span class="vi">@authors</span><span class="o">.</span><span class="n">each_with_index</span> <span class="k">do</span> <span class="o">|</span><span class="n">author</span><span class="p">,</span> <span class="n">index</span><span class="o">|</span> <span class="k">yield</span> <span class="s1">&#39;author&#39;</span> <span class="o">=&gt;</span> <span class="n">author</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="vi">@titles</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>  <span class="k">end</span>
   <span class="k">end</span>    
<span class="k">end</span></pre></div>
  </td>
</tr>
<tr id='section-33'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-33">&#182;</a>
    </div>
    <p>We are including the Enumerable class, which means that if we define the method, &lsquo;each&rsquo;, we can call any Enumerable method on the BookShelf class.</p>
  </td>
  <td class=code>
    <div class='highlight'><pre></pre></div>
  </td>
</tr>
<tr id='section-34'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-34">&#182;</a>
    </div>
    <p>The each method is defined as</p>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="vi">@authors</span><span class="o">.</span><span class="n">each_with_index</span> <span class="k">do</span> <span class="o">|</span><span class="n">author</span><span class="p">,</span> <span class="n">index</span><span class="o">|</span> <span class="k">yield</span> <span class="s1">&#39;author&#39;</span> <span class="o">=&gt;</span> <span class="n">author</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="vi">@titles</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>  <span class="k">end</span></pre></div>
  </td>
</tr>
<tr id='section-35'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-35">&#182;</a>
    </div>
    <p>In English, this says &lsquo;For each author, get me the name of the author and the index. Then I&rsquo;m going to stop (yield) and return the name of the author, and the title of the book that appears in the same position in the titles array&rsquo;. As you can see, it is &lsquo;yield&rsquo; that is doing the magic here. It essentially stops the loop (each_with_index) and spits out the result of the statements that follow it.</p>
  </td>
  <td class=code>
    <div class='highlight'><pre></pre></div>
  </td>
</tr>
<tr id='section-36'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-36">&#182;</a>
    </div>
    <p>If you want to try it out yourself, you could add some books to the BookShelf like so</p>
  </td>
  <td class=code>
    <div class='highlight'><pre><span class="n">bookShelf</span> <span class="o">=</span> <span class="no">BookShelf</span><span class="o">.</span><span class="n">new</span>
<span class="n">bookShelf</span><span class="o">.</span><span class="n">add</span> <span class="s1">&#39;Great Expectations&#39;</span><span class="p">,</span> <span class="s1">&#39;Dickens, C.&#39;</span>
<span class="n">bookShelf</span><span class="o">.</span><span class="n">add</span> <span class="s1">&#39;Frankenstien&#39;</span><span class="p">,</span> <span class="s1">&#39;Shelly, M.&#39;</span>
<span class="n">bookShelf</span><span class="o">.</span><span class="n">add</span> <span class="s1">&#39;Linchpin&#39;</span><span class="p">,</span> <span class="s1">&#39;Godin, S.&#39;</span></pre></div>
  </td>
</tr>
<tr id='section-End'>
  <td class=docs>
    <div class="pilwrap">
      <a class="pilcrow" href="#section-End">&#182;</a>
    </div>
    <h2>End</h2>


<p>Phew! That was a lot to take in. Hopefully you&rsquo;ve seen some of the neat methods that the Array class provides, particularly &lsquo;abbrev&rsquo;, as well as how we can make our own classes behave like Enumerable objects. Let me know if you have any questions, comments, and especially criticisms.</p>

  </td>
  <td class=code>
    <div class='highlight'><pre></pre></div>
  </td>
</tr>
